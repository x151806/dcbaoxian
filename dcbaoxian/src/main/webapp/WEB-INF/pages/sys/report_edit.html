<!-- Horizontal Form -->
<div class="box box-info">
	<div class="box-header with-border">
		<h3 class="box-title">添加日报</h3>
	</div>
	<!-- /.box-header -->
	<!-- form start -->
	<form class="form-horizontal" >
		<div class="box-body">
		
				<div class="col-md-12">
					<div class="form-group">
						<label for="workTime" class="col-sm-4 control-label">日期</label>

						<div class="col-sm-8">
							<input type="date" class="form-control" name="workTime" id="workTime"/>
						</div>
					</div>
					<div class="form-group">
						<label for="explain" class="col-sm-4 control-label">今日工作内容</label>

						<div class="col-sm-8">
							<textarea rows="4" cols="20" class="form-control"
								placeholder="1、...&#10;2、....&#10;3、...." name="workToday" id="workToday"></textarea>
						</div>
					</div>
					<div class="form-group">
						<label for="explain" class="col-sm-4 control-label">明日工作计划</label>

						<div class="col-sm-8">
							<textarea rows="4" cols="20" class="form-control"
								placeholder="1、...&#10;2、....&#10;3、...." name="workNextDay" id="workNextDay"></textarea>
						</div>
					</div>
					<div class="form-group">
						<label for="explain" class="col-sm-4 control-label">意见和建议</label>

						<div class="col-sm-8">
							<textarea rows="4" cols="20" class="form-control"
								placeholder="意见和建议" name="opinion" id="opinion"></textarea>
						</div>
					</div>
				</div>
		
				



			<!-- /.box-body -->
			<div class="col-md-12">
				<div class="box-footer">
					<button type="button" class="btn btn-default btn-cancel">取消</button>
					<button type="button" class="btn btn-info pull-right btn-save">提交</button>
				</div>
			</div>
			<!-- /.box-footer -->
		</div>
	</form>
</div>



<!-- jQuery 3 -->
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<!-- Bootstrap 3.3.7 -->
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<!-- Select2 -->
<script src="bower_components/select2/dist/js/select2.full.min.js"></script>
<!-- InputMask -->
<script src="plugins/input-mask/jquery.inputmask.js"></script>
<script src="plugins/input-mask/jquery.inputmask.date.extensions.js"></script>
<script src="plugins/input-mask/jquery.inputmask.extensions.js"></script>
<!-- date-range-picker -->
<script src="bower_components/moment/min/moment.min.js"></script>
<script
	src="bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script
	src="bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>
<!-- bootstrap color picker -->
<script
	src="bower_components/bootstrap-colorpicker/dist/js/bootstrap-colorpicker.min.js"></script>
<!-- bootstrap time picker -->
<script src="plugins/timepicker/bootstrap-timepicker.min.js"></script>
<!-- SlimScroll -->
<script
	src="bower_components/jquery-slimscroll/jquery.slimscroll.min.js"></script>
<!-- iCheck 1.0.1 -->
<script src="plugins/iCheck/icheck.min.js"></script>
<!-- FastClick -->
<script src="bower_components/fastclick/lib/fastclick.js"></script>
<!-- AdminLTE App -->
<script src="dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="dist/js/demo.js"></script>




<script type="text/javascript">
    
    $(function(){
    	
    	$(".box-footer")
    	.on("click",".btn-save",doSave)
    	.on("click",".btn-cancel",doCancel);
    	
    });
   
    function doCancel(){
    	var url="report/doReportListUI.do";
    	$("#mainContentId")
    	.load(url,function(){
    	  $("#mainContentId").removeData();
    	});
    }
    
    function doSave(){
    	if($("#workTime").val()==""){
    		 alert("请先选择日期！");
			  return;
    	}
    	//1.参数(表单数据)
    	var params=doGetEditFormData();
    	
    	var url="report/doSaveObject.do"; 
    	console.log(params);
    	
    	//3.ajax request
    	$.post(url,params,function(result){
  		  if(result.state==1){
  			  alert(result.message);
  			  doCancel();
  		  }else{
  			  alert(result.message);
  		  }
  	  });
    }
    function doGetEditFormData(){
    	
    	var params = {
    			
    			workTime : $("#workTime").val(),
    			workToday : $("#workToday").val(),
    			workNextDay : $("#workNextDay").val(),
    			opinion : $("#opinion").val(),
    			
			}
    	return params;
    }
    

</script>







